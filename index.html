<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KMZ Secure Protocol</title>
    <style>
        /* --- ESTILO GERAL --- */
        :root { --primary: #00ff41; --bg: #000000; --panel: #111; }
        * { box-sizing: border-box; outline: none; }
        
        body {
            background-color: var(--bg);
            color: var(--primary);
            font-family: 'Courier New', monospace;
            margin: 0; padding: 0;
            height: 100vh;
            display: flex; flex-direction: column;
            overflow: hidden;
        }

        /* --- SPLASH SCREEN (HTML) --- */
        #splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            transition: opacity 0.5s;
        }
        .logo-text { font-size: 3rem; font-weight: 900; letter-spacing: 5px; border: 3px solid var(--primary); padding: 15px; }
        .loading { width: 50%; height: 2px; background: #333; margin-top: 20px; }
        .bar { height: 100%; background: var(--primary); animation: load 2s forwards; }

        /* --- LOGIN --- */
        #login-screen {
            display: none; flex: 1;
            justify-content: center; align-items: center; flex-direction: column;
            padding: 20px;
        }
        .login-box { width: 100%; max-width: 300px; text-align: center; }
        
        /* --- APP --- */
        #app-screen {
            display: none; flex: 1; flex-direction: column;
            padding: 15px; max-width: 600px; margin: 0 auto; width: 100%;
        }

        input, textarea, button {
            width: 100%; background: #0a0a0a; border: 1px solid #333;
            color: var(--primary); font-family: inherit; padding: 15px;
            margin-bottom: 10px; font-size: 1rem;
        }
        input:focus, textarea:focus { border-color: var(--primary); }
        
        button {
            background: #002200; font-weight: bold; cursor: pointer; text-transform: uppercase;
        }
        button:active { background: var(--primary); color: #000; }

        textarea { height: 120px; resize: none; }

        /* --- RODAP√â --- */
        .footer-info {
            margin-top: auto;
            text-align: center;
            font-size: 0.7rem;
            color: #555;
            padding: 10px;
            border-top: 1px solid #222;
        }
        .footer-info a { color: #555; text-decoration: none; }

        @keyframes load { 0% { width: 0; } 100% { width: 100%; } }
    </style>
</head>
<body>

    <div id="splash">
        <div class="logo-text">KMZ</div>
        <div style="margin-top:5px; letter-spacing: 3px;">INTERPRISE</div>
        <div class="loading"><div class="bar"></div></div>
    </div>

    <div id="login-screen">
        <div class="login-box">
            <h2 style="border-bottom: 1px solid var(--primary); padding-bottom:10px;">ACESSO RESTRITO</h2>
            <input type="text" id="user" placeholder="USU√ÅRIO" autocomplete="off">
            <input type="password" id="pass" placeholder="SENHA" autocomplete="off">
            <button onclick="login()">ENTRAR</button>
            <p id="error" style="color:red; display:none; font-size:0.8rem;">DADOS INV√ÅLIDOS</p>
        </div>
        <div class="footer-info">
            Sistema Seguro v3.1<br>
            KMZ Interprise ¬© 2026
        </div>
    </div>

    <div id="app-screen">
        <div style="text-align:center; margin-bottom:15px; border-bottom:1px solid #333; padding-bottom:10px;">
            <strong>KMZ ENCRYPTOR</strong>
        </div>

        <textarea id="normalText" placeholder="DIGITE A MENSAGEM CLARA..."></textarea>
        <button onclick="encriptar()">üîí BLOQUEAR (ENCRIPTAR)</button>
        <button onclick="copiar('cipherText')" style="font-size:0.8rem; padding:10px;">COPIAR C√ìDIGO</button>
        
        <div style="margin: 15px 0; border-top:1px dashed #333;"></div>

        <textarea id="cipherText" placeholder="COLE O C√ìDIGO ESTRANHO AQUI..." style="color:#aaa;"></textarea>
        <button onclick="decriptar()">üîì LIBERAR (DECRIPTAR)</button>
        <button onclick="copiar('normalText')" style="font-size:0.8rem; padding:10px;">COPIAR TEXTO</button>

        <div class="footer-info">
            Desenvolvido por: <strong>Kau√£ Mazur dos Reis</strong><br>
            Suporte: <a href="mailto:kmzsuportt1@gmail.com">kmzsuportt1@gmail.com</a><br>
            KMZ Interprise - Todos os direitos reservados.
        </div>
    </div>

    <script>
        // --- SEGURAN√áA ---
        const CREDENTIALS = { u: "Admin", p: "028929" };

        // --- TABELAS DE CRIPTOGRAFIA ---
        // Base64 Padr√£o (65 caracteres contando o '=')
        const ALPHABET = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
        
        // KMZ Cipher (EXATAMENTE 65 caracteres √∫nicos e malucos)
        // Isso garante mapeamento 1:1 perfeito.
        const CIPHER   = "‚àÜŒ©Œ∏ŒºœÄŒ£Œ¶Œ®œâŒ∂ŒæŒªŒ≤Œ≥Œ±¬¨¬Æ¬©‚Ñ¢¬£¬¢¬ß¬∂¬•‚Ç¨!@#$abcdefghijklmnopqrstuvwxyz123456789%&*"; 

        // --- INICIALIZA√á√ÉO ---
        window.onload = () => {
            setTimeout(() => {
                document.getElementById('splash').style.opacity = 0;
                setTimeout(() => {
                    document.getElementById('splash').style.display = 'none';
                    document.getElementById('login-screen').style.display = 'flex';
                }, 500);
            }, 2200);
        };

        function login() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            if(u === CREDENTIALS.u && p === CREDENTIALS.p) {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app-screen').style.display = 'flex';
            } else {
                const err = document.getElementById('error');
                err.style.display = 'block';
                err.innerText = "ACESSO NEGADO";
            }
        }

        function encriptar() {
            let texto = document.getElementById('normalText').value;
            if(!texto) return;

            try {
                // 1. Codifica para Base64 cuidando de acentos (UTF-8)
                let b64 = btoa(unescape(encodeURIComponent(texto)));
                
                // 2. Substitui pelo alfabeto KMZ
                let resultado = "";
                for (let i = 0; i < b64.length; i++) {
                    let char = b64[i];
                    let index = ALPHABET.indexOf(char);
                    // Se achar, troca. Se n√£o achar (improv√°vel), mant√©m.
                    resultado += (index !== -1) ? CIPHER[index] : char;
                }
                document.getElementById('cipherText').value = resultado;
                document.getElementById('normalText').value = ""; // Limpa para seguran√ßa
            } catch (e) {
                alert("Erro ao encriptar. Tente texto simples.");
            }
        }

        function decriptar() {
            let codigo = document.getElementById('cipherText').value;
            if(!codigo) return;

            try {
                // 1. Reverte KMZ para Base64 padr√£o
                let b64 = "";
                for (let i = 0; i < codigo.length; i++) {
                    let char = codigo[i];
                    let index = CIPHER.indexOf(char);
                    b64 += (index !== -1) ? ALPHABET[index] : char;
                }

                // 2. Decodifica Base64 para texto com acentos
                let texto = decodeURIComponent(escape(atob(b64)));
                
                document.getElementById('normalText').value = texto;
                document.getElementById('cipherText').value = ""; // Limpa
            } catch (e) {
                alert("C√≥digo inv√°lido ou corrompido! Verifique se copiou tudo.");
            }
        }

        function copiar(id) {
            let el = document.getElementById(id);
            el.select();
            el.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(el.value);
            alert("Copiado com sucesso!");
        }
    </script>
</body>
</html>
